<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Routes Instructions - IMS Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .instruction-step {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
        }
        .step-number {
            background: #007bff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .feature-icon {
            background: #e3f2fd;
            color: #1976d2;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        .workflow-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }
        .workflow-step {
            display: inline-block;
            background: white;
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 10px;
            position: relative;
        }
        .workflow-arrow {
            color: #007bff;
            font-size: 1.5rem;
            margin: 0 10px;
        }
        .code-block {
            background: #f1f3f4;
            border-radius: 4px;
            padding: 10px 15px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            border-left: 4px solid #28a745;
            margin: 10px 0;
        }
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .success-box {
            background: #d1f2eb;
            border: 1px solid #a7f3d0;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .toc {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .toc ul {
            margin: 0;
            padding-left: 20px;
        }
        .toc li {
            margin: 5px 0;
        }
        .toc a {
            text-decoration: none;
            color: #495057;
        }
        .toc a:hover {
            color: #007bff;
        }
        @media (max-width: 768px) {
            .workflow-step {
                display: block;
                margin: 10px 0;
            }
            .workflow-arrow {
                display: block;
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" onclick="history.back()">
                <i class="fas fa-arrow-left me-2"></i>Back to Form Builder
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/dashboard">
                    <i class="fas fa-home me-2"></i>Dashboard
                </a>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center mb-5">
                    <h1 class="display-4">
                        <i class="fas fa-route text-primary me-3"></i>
                        Custom Routes Guide
                    </h1>
                    <p class="lead text-muted">Complete guide to building custom intake forms and workflows</p>
                </div>

                <!-- Table of Contents -->
                <div class="toc">
                    <h5><i class="fas fa-list me-2"></i>Table of Contents</h5>
                    <ul>
                        <li><a href="#overview">Overview & Benefits</a></li>
                        <li><a href="#getting-started">Getting Started</a></li>
                        <li><a href="#form-builder">Using the Form Builder</a></li>
                        <li><a href="#field-types">Available Field Types</a></li>
                        <li><a href="#workflow-config">Workflow Configuration</a></li>
                        <li><a href="#ims-integration">IMS Integration</a></li>
                        <li><a href="#rater-setup">Rater Setup</a></li>
                        <li><a href="#publishing">Publishing & Sharing</a></li>
                        <li><a href="#monitoring">Monitoring Submissions</a></li>
                        <li><a href="#troubleshooting">Troubleshooting</a></li>
                    </ul>
                </div>

                <!-- Overview Section -->
                <section id="overview">
                    <h2><i class="fas fa-info-circle text-primary me-2"></i>Overview & Benefits</h2>
                    
                    <p>Custom Routes allows you to create professional, branded intake forms that automatically integrate with your IMS system. This powerful feature transforms how you collect and process insurance submissions.</p>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-magic"></i>
                            </div>
                            <h5>Drag & Drop Builder</h5>
                            <p>Build forms visually with our intuitive drag-and-drop interface</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-sync"></i>
                            </div>
                            <h5>IMS Integration</h5>
                            <p>Automatically create submissions, quotes, and policies in IMS</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h5>Mobile Responsive</h5>
                            <p>Forms work perfectly on desktop, tablet, and mobile devices</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <h5>Rater Integration</h5>
                            <p>Connect to Excel raters for automated premium calculation</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h5>Workflow Automation</h5>
                            <p>Configure automatic processing, approvals, and notifications</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h5>Analytics</h5>
                            <p>Track submission rates, conversion, and processing times</p>
                        </div>
                    </div>

                    <div class="workflow-diagram">
                        <h5 class="mb-4">Submission Workflow</h5>
                        <div class="d-flex flex-wrap justify-content-center align-items-center">
                            <div class="workflow-step">
                                <strong>1. Form Submission</strong><br>
                                <small>Customer fills out form</small>
                            </div>
                            <i class="fas fa-arrow-right workflow-arrow"></i>
                            <div class="workflow-step">
                                <strong>2. Data Validation</strong><br>
                                <small>System validates input</small>
                            </div>
                            <i class="fas fa-arrow-right workflow-arrow"></i>
                            <div class="workflow-step">
                                <strong>3. IMS Processing</strong><br>
                                <small>Creates submission/quote</small>
                            </div>
                            <i class="fas fa-arrow-right workflow-arrow"></i>
                            <div class="workflow-step">
                                <strong>4. Premium Calculation</strong><br>
                                <small>Rater calculates premium</small>
                            </div>
                            <i class="fas fa-arrow-right workflow-arrow"></i>
                            <div class="workflow-step">
                                <strong>5. Review/Approval</strong><br>
                                <small>Underwriter reviews</small>
                            </div>
                            <i class="fas fa-arrow-right workflow-arrow"></i>
                            <div class="workflow-step">
                                <strong>6. Policy Issuance</strong><br>
                                <small>Policy bound & issued</small>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Getting Started -->
                <section id="getting-started">
                    <h2><i class="fas fa-play-circle text-primary me-2"></i>Getting Started</h2>
                    
                    <div class="instruction-step">
                        <div class="d-flex align-items-start">
                            <span class="step-number">1</span>
                            <div>
                                <h5>Plan Your Form</h5>
                                <p>Before building, consider:</p>
                                <ul>
                                    <li>What information do you need to collect?</li>
                                    <li>How many steps should the form have?</li>
                                    <li>Which fields are required vs optional?</li>
                                    <li>What validations are needed?</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div class="d-flex align-items-start">
                            <span class="step-number">2</span>
                            <div>
                                <h5>Create a New Route</h5>
                                <p>Click <strong>"Create New Route"</strong> and provide:</p>
                                <ul>
                                    <li><strong>Route Name:</strong> Internal name for your form</li>
                                    <li><strong>URL Slug:</strong> Public URL path (auto-generated from name)</li>
                                    <li><strong>Description:</strong> Brief explanation of the form's purpose</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div class="d-flex align-items-start">
                            <span class="step-number">3</span>
                            <div>
                                <h5>Configure IMS Settings</h5>
                                <p>Set up the connection to your IMS instance:</p>
                                <ul>
                                    <li>Default company and line of business</li>
                                    <li>Default producer and underwriter</li>
                                    <li>Billing and policy type preferences</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Form Builder -->
                <section id="form-builder">
                    <h2><i class="fas fa-hammer text-primary me-2"></i>Using the Form Builder</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Building Your Form</h4>
                            <ol>
                                <li><strong>Drag Field Types:</strong> From the left panel, drag field types into the form area</li>
                                <li><strong>Edit Properties:</strong> Click on a field to edit its properties in the right panel</li>
                                <li><strong>Organize Steps:</strong> Use multiple steps for complex forms</li>
                                <li><strong>Set Validation:</strong> Configure required fields and validation rules</li>
                                <li><strong>Map to IMS:</strong> Connect fields to IMS data points</li>
                            </ol>
                        </div>
                        <div class="col-md-6">
                            <h4>Field Properties</h4>
                            <ul>
                                <li><strong>Label:</strong> Display name for the field</li>
                                <li><strong>Field Name:</strong> Internal identifier (used for data storage)</li>
                                <li><strong>Placeholder:</strong> Hint text shown in empty fields</li>
                                <li><strong>Required:</strong> Whether the field must be filled</li>
                                <li><strong>IMS Mapping:</strong> Which IMS field this connects to</li>
                                <li><strong>Rater Mapping:</strong> Excel cell reference for calculations</li>
                            </ul>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h6><i class="fas fa-exclamation-triangle me-2"></i>Important Tips</h6>
                        <ul class="mb-0">
                            <li>Use descriptive field names - they become your data column headers</li>
                            <li>Required fields are marked with a red asterisk (*)</li>
                            <li>Test your form frequently using the Preview button</li>
                            <li>Keep forms as simple as possible for better completion rates</li>
                        </ul>
                    </div>
                </section>

                <!-- Field Types -->
                <section id="field-types">
                    <h2><i class="fas fa-list text-primary me-2"></i>Available Field Types</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Basic Input Fields</h5>
                            <ul>
                                <li><strong>Text Input:</strong> Single-line text entry</li>
                                <li><strong>Email:</strong> Email address with validation</li>
                                <li><strong>Phone:</strong> Phone number with formatting</li>
                                <li><strong>Number:</strong> Numeric values only</li>
                                <li><strong>Text Area:</strong> Multi-line text entry</li>
                                <li><strong>Date:</strong> Date picker</li>
                                <li><strong>File Upload:</strong> Document attachment</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>Selection Fields</h5>
                            <ul>
                                <li><strong>Dropdown:</strong> Single selection from list</li>
                                <li><strong>Radio Group:</strong> Single choice with visible options</li>
                                <li><strong>Checkboxes:</strong> Multiple selections allowed</li>
                            </ul>
                            
                            <h5>Special Fields</h5>
                            <ul>
                                <li><strong>Address:</strong> Complete address block</li>
                                <li><strong>Producer Lookup:</strong> Search IMS producers</li>
                            </ul>
                        </div>
                    </div>

                    <div class="success-box">
                        <h6><i class="fas fa-lightbulb me-2"></i>Pro Tip</h6>
                        <p class="mb-0">Use the <strong>Address</strong> field type for complete addresses rather than separate text fields. It ensures consistent formatting and better data quality.</p>
                    </div>
                </section>

                <!-- Workflow Configuration -->
                <section id="workflow-config">
                    <h2><i class="fas fa-cogs text-primary me-2"></i>Workflow Configuration</h2>
                    
                    <h4>Processing Options</h4>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6><i class="fas fa-play me-2"></i>Auto-Process</h6>
                                    <p>Automatically process submissions without manual intervention</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6><i class="fas fa-user-check me-2"></i>Require Approval</h6>
                                    <p>All submissions need underwriter review before processing</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6><i class="fas fa-magic me-2"></i>Auto-Bind</h6>
                                    <p>Automatically bind policies when criteria are met</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4 class="mt-4">Notification Settings</h4>
                    <ul>
                        <li><strong>Notification Emails:</strong> Who gets notified of new submissions</li>
                        <li><strong>Default Underwriter:</strong> Assigned reviewer for submissions</li>
                        <li><strong>Success Messages:</strong> What customers see after submitting</li>
                    </ul>
                </section>

                <!-- IMS Integration -->
                <section id="ims-integration">
                    <h2><i class="fas fa-link text-primary me-2"></i>IMS Integration</h2>
                    
                    <p>Custom Routes automatically maps form data to your IMS system, creating submissions and quotes seamlessly.</p>

                    <h4>Automatic Insured Creation</h4>
                    <ol>
                        <li><strong>Clearance Check:</strong> System searches for existing insureds</li>
                        <li><strong>Duplicate Prevention:</strong> Uses name, address, and tax ID matching</li>
                        <li><strong>New Insured Creation:</strong> Creates new record if no match found</li>
                        <li><strong>Location Setup:</strong> Establishes primary business location</li>
                    </ol>

                    <h4>Field Mapping</h4>
                    <p>Map form fields to specific IMS data points:</p>
                    <div class="code-block">
                        <strong>Example Mappings:</strong><br>
                        Company Name → NameOnPolicy<br>
                        Business Address → Address1, City, State, Zip<br>
                        Phone Number → Phone<br>
                        Email Address → Email<br>
                        Federal EIN → FEIN
                    </div>

                    <div class="warning-box">
                        <h6><i class="fas fa-exclamation-triangle me-2"></i>Required IMS Fields</h6>
                        <p class="mb-0">Ensure your form collects all required IMS fields: Business Name/Individual Name, Primary Address, Business Type, and either SSN or Federal EIN.</p>
                    </div>
                </section>

                <!-- Rater Setup -->
                <section id="rater-setup">
                    <h2><i class="fas fa-calculator text-primary me-2"></i>Rater Setup</h2>
                    
                    <p>Connect your Excel-based rating sheets to automatically calculate premiums from form submissions.</p>

                    <h4>Configuration Steps</h4>
                    <div class="instruction-step">
                        <div class="d-flex align-items-start">
                            <span class="step-number">1</span>
                            <div>
                                <h5>Rater File Setup</h5>
                                <ul>
                                    <li>Upload your Excel rater to the IMS server</li>
                                    <li>Note the complete file path</li>
                                    <li>Ensure the rater has a dedicated input sheet</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div class="d-flex align-items-start">
                            <span class="step-number">2</span>
                            <div>
                                <h5>Cell Mapping</h5>
                                <ul>
                                    <li>Map each form field to specific Excel cells</li>
                                    <li>Use standard Excel notation (A1, B5, etc.)</li>
                                    <li>Test calculations manually first</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div class="d-flex align-items-start">
                            <span class="step-number">3</span>
                            <div>
                                <h5>Auto-Bind Rules</h5>
                                <ul>
                                    <li>Set maximum premium for automatic binding</li>
                                    <li>Exclude high-risk class codes</li>
                                    <li>Configure referral conditions</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Publishing -->
                <section id="publishing">
                    <h2><i class="fas fa-globe text-primary me-2"></i>Publishing & Sharing</h2>
                    
                    <h4>Public Form URLs</h4>
                    <p>Each route gets a unique public URL:</p>
                    <div class="code-block">
                        https://yourdomain.com/form/your-route-slug
                    </div>

                    <h4>Sharing Options</h4>
                    <ul>
                        <li><strong>Direct Link:</strong> Share the URL via email, website, or marketing materials</li>
                        <li><strong>QR Code:</strong> Generate QR codes for print materials</li>
                        <li><strong>Website Embed:</strong> Embed forms directly in your website</li>
                        <li><strong>Social Media:</strong> Share links on social platforms</li>
                    </ul>

                    <h4>SEO Optimization</h4>
                    <ul>
                        <li>Use descriptive, keyword-rich slugs</li>
                        <li>Add meta descriptions in form settings</li>
                        <li>Include relevant business keywords</li>
                    </ul>
                </section>

                <!-- Monitoring -->
                <section id="monitoring">
                    <h2><i class="fas fa-chart-bar text-primary me-2"></i>Monitoring Submissions</h2>
                    
                    <h4>Submission Dashboard</h4>
                    <p>Track all submissions from the Custom Routes dashboard:</p>
                    <ul>
                        <li><strong>Status Tracking:</strong> Monitor submission progress</li>
                        <li><strong>Processing Queue:</strong> See pending approvals</li>
                        <li><strong>Completion Rates:</strong> Track successful conversions</li>
                        <li><strong>Error Monitoring:</strong> Identify and resolve issues</li>
                    </ul>

                    <h4>Submission Statuses</h4>
                    <div class="row">
                        <div class="col-md-6">
                            <ul>
                                <li><span class="badge bg-primary">Submitted</span> - Form completed by customer</li>
                                <li><span class="badge bg-warning">Processing</span> - Being processed by IMS</li>
                                <li><span class="badge bg-info">Quoted</span> - Quote generated successfully</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul>
                                <li><span class="badge bg-success">Bound</span> - Policy bound and active</li>
                                <li><span class="badge bg-success">Issued</span> - Policy documents issued</li>
                                <li><span class="badge bg-danger">Error</span> - Processing failed</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Troubleshooting -->
                <section id="troubleshooting">
                    <h2><i class="fas fa-tools text-primary me-2"></i>Troubleshooting</h2>
                    
                    <h4>Common Issues</h4>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h6><i class="fas fa-exclamation-circle text-warning me-2"></i>Form Not Loading</h6>
                        </div>
                        <div class="card-body">
                            <p><strong>Possible Causes:</strong></p>
                            <ul>
                                <li>Route is set to inactive</li>
                                <li>URL slug was changed</li>
                                <li>Server configuration issue</li>
                            </ul>
                            <p><strong>Solutions:</strong></p>
                            <ul>
                                <li>Check route status in the dashboard</li>
                                <li>Verify the correct URL slug</li>
                                <li>Contact system administrator</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-header">
                            <h6><i class="fas fa-exclamation-circle text-danger me-2"></i>Submission Processing Failed</h6>
                        </div>
                        <div class="card-body">
                            <p><strong>Possible Causes:</strong></p>
                            <ul>
                                <li>IMS connection issue</li>
                                <li>Missing required fields</li>
                                <li>Invalid data format</li>
                                <li>Rater calculation error</li>
                            </ul>
                            <p><strong>Solutions:</strong></p>
                            <ul>
                                <li>Check IMS connectivity</li>
                                <li>Review field mappings</li>
                                <li>Validate form data</li>
                                <li>Test rater calculations manually</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-header">
                            <h6><i class="fas fa-exclamation-circle text-info me-2"></i>Low Conversion Rates</h6>
                        </div>
                        <div class="card-body">
                            <p><strong>Optimization Tips:</strong></p>
                            <ul>
                                <li>Simplify the form - remove non-essential fields</li>
                                <li>Use progress indicators for multi-step forms</li>
                                <li>Improve field labels and help text</li>
                                <li>Test on mobile devices</li>
                                <li>Add trust signals (security badges, testimonials)</li>
                            </ul>
                        </div>
                    </div>

                    <h4>Getting Help</h4>
                    <p>For additional support:</p>
                    <ul>
                        <li>Check the workflow log for detailed error messages</li>
                        <li>Review IMS integration settings</li>
                        <li>Test individual components (forms, raters, workflows)</li>
                        <li>Contact your system administrator with specific error details</li>
                    </ul>
                </section>

                <!-- Footer -->
                <div class="text-center mt-5 pt-4 border-top">
                    <p class="text-muted">
                        <i class="fas fa-heart text-danger"></i>
                        Built with IMS Application Custom Routes
                    </p>
                    <button class="btn btn-primary" onclick="history.back()">
                        <i class="fas fa-arrow-left me-2"></i>Back to Form Builder
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>